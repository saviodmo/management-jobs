{% extends 'customer/base.html' %}

{% block content %}

    <div class="display-6 my-5">
        Clientes Ativos
    </div>

    <div class="alert bg-light">
        <a class="btn btn-info" href="">Novo Cliente</a>
        {# outros botões de utilidade vão aqui ou uma busca por cliente, etc. entdenda como uma barra da área de listagem de clientes. #}
    </div>

    {% if customer_list %}
        {# Modal de tamanho mais largo ----------------------------------------------------------#}
        <div class="modal fade" id="modalForm" tabindex="-1" aria-labelledby="ModalTitle" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header text-white bg-info">
                        <h5 class="modal-title" id="ModalTitle"></h5>
                        <button type="button" class="btn-close btn-link text-white" data-mdb-dismiss="modal"
                                aria-label="Close"></button>
                    </div>
                    <div class="modal-body text-center img-fluid">
                    </div>
                    <div class="modal-footer text-center">
                        <button type="button" class="btn btn-dark custom-primary" data-mdb-dismiss="modal"> Fechar
                        </button>
                    </div>
                </div>
            </div>
        </div>
        {# Modal acaba aqui e possui dependencias de JS no final -------------------------------- #}

        {# tabela de listagem de cliente #}
        <table class="table table-hover table-responsive table-striped mx-auto">
            {#  ajuste de classes aqui, incluindo o responsive, stripped e margem automatica #}
            <thead>
            <tr class="text-start">
                <th scope="col" class="w-5 text-center"><i class="fa fa-pencil text-muted"></i></th>
                <th scope="col" class="w-5">ID</th>
                <th scope="col" class="w-auto">Cliente</th>
                <th scope="col" class="w-25">Preço</th>
                <th scope="col" class="w-25">Cliente Ativo</th>
                <th scope="col" class="w-25">Data de Inserção</th>
            </tr>
            </thead>
            <tbody class="text-start">
            {% for customer in customer_list %}
                <tr class="table-row">
                    <td class="text-center">
                        <a href=""
                           data-title="<i class='fa fa-form pe-3'></i>Editando: {{ customer.name|capfirst }}"
                           class="openPopup text-center btn btn-sm btn-info">
                        </a>
                    </td>
                    <td scope="row" class="text-end me-2">
                        <a class="customer-job-link"
                           href="{% url 'customer:customer' customer.slug %}">{{ customer.id }}</a></td>
                    <td><a class="customer-job-link"
                           href="{{ get_absolute_url }}">{{ customer.name }}</a></td>
                    <td><a class="customer-job-link"
                           href="{{ get_absolute_url }}">[00.00]</a></td>
                    <td><a class="customer-job-link"
                           href="{{ get_absolute_url }}">{{ customer.active }}</a></td>
                    <td><a class="customer-job-link"
                           href="{{ get_absolute_url }}">{{ customer.dtt_record|date:'d/m/Y H:i:s' }}</a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}

{% endblock content %}